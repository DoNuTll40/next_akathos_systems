(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{1028:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var r=a(95155);let l=(0,a(12115).createContext)();function o(e){let{children:t}=e;return(0,r.jsx)(l.Provider,{value:{},children:t})}var s=a(28553),n=a(82559),i=a(44638),u=a.n(i),c=a(4396);a(27616),a(79911);var d=a(95799);function h(e){let{children:t}=e;return(0,r.jsx)(o,{children:(0,r.jsx)(s.h,{children:(0,r.jsx)(n.dn,{children:(0,r.jsxs)(c.mD,{value:{ripple:!0},children:[(0,r.jsx)(u(),{showSpinner:!1}),(0,r.jsx)(d.N9,{autoClose:2e3,theme:"colored",closeOnClick:!0}),t]})})})})}},28553:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,h:()=>u});var r=a(95155),l=a(42414),o=a(35695),s=a(12115),n=a(95799);let i=(0,s.createContext)();function u(e){let{children:t}=e,[a,u]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[h,v]=(0,s.useState)(!0),[m,g]=(0,s.useState)(null),[S,f]=(0,s.useState)(null),[p,A]=(0,s.useState)({username:"",password:""}),k=(0,o.useRouter)();(0,s.useEffect)(()=>{f(localStorage.getItem("token")),I()},[]);let x=async()=>await l.A.post("auth/authLogin",p),I=async()=>{var e,t;v(!0);let a=localStorage.getItem("token");if(f(a),!a)return v(!1);try{let t=await l.A.post("/auth/authVerifyToken",{},{headers:{Authorization:"Bearer ".concat(a)}});200===t.status&&(g(t.data.data),localStorage.setItem("isAuthen",JSON.stringify(null===(e=t.data)||void 0===e?void 0:e.data)))}catch(e){n.oR.error(null===(t=e.response)||void 0===t?void 0:t.data.message),localStorage.removeItem("token"),localStorage.removeItem("isAuthen"),g(null)}finally{v(!1)}},b=async()=>{var e,t;v(!0);try{let t=await l.A.post("/auth/authLogout",{},{headers:{Authorization:"Bearer ".concat(S)}});200===t.status&&(n.oR.success(null===(e=t.data)||void 0===e?void 0:e.message),localStorage.removeItem("token"),localStorage.removeItem("isAuthen"),k.push("/admin/login"),f(null),g(null))}catch(e){n.oR.error(null===(t=e.response)||void 0===t?void 0:t.data.message)}finally{v(!1)}};return(0,r.jsx)(i.Provider,{value:{inputLogin:p,setInputLogin:A,showModalOtp:a,setShowModalOtp:u,login:x,verify:I,logout:b,user:m,loading:h,setLoading:v,setToken:f,errMsg:c,setErrMsg:d},children:t})}let c=i},30347:()=>{},42414:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(23464);r.A.defaults.baseURL="https://akathos.moph.go.th/akatApi/";let l=r.A},59124:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,69243,23)),Promise.resolve().then(a.bind(a,26259)),Promise.resolve().then(a.bind(a,96063)),Promise.resolve().then(a.bind(a,58930)),Promise.resolve().then(a.t.bind(a,30347,23)),Promise.resolve().then(a.bind(a,1028))},82559:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n,dn:()=>s});var r=a(95155),l=a(12115);let o=(0,l.createContext)();function s(e){let{children:t}=e,[a,s]=(0,l.useState)(!0),[n,i]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=localStorage.getItem("miniBar"),t=localStorage.getItem("fullBar");null!==e&&i("true"===e),null!==t&&s("true"===t)},[]),(0,r.jsx)(o.Provider,{value:{isOpen:a,isMini:n,toggleSidebar:()=>{let e=!a;s(e),localStorage.setItem("fullBar",e)},toggleMini:()=>{let e=!n;i(e),localStorage.setItem("miniBar",e)}},children:t})}let n=o}},e=>{var t=t=>e(e.s=t);e.O(0,[4458,3464,4396,5799,3288,8441,1684,7358],()=>t(59124)),_N_E=e.O()}]);