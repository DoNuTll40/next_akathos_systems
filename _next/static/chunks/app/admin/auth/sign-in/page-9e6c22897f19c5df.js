(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2837],{15881:(e,t,s)=>{"use strict";s.d(t,{a:()=>n});var a=s(30402);s(7075);let n=async e=>{let t="@_!_AkAtHoSpItAl_!_@_1_1_0_9_8_@";if(!t)throw Error("Key is not defined in .env");return"object"==typeof e&&(e=JSON.stringify(e)),a.encrypt(e,t).toString()}},38148:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var a=s(95155),n=s(42414),r=s(15881),l=s(81284),i=s(57842),d=s(70306),o=s(6874),c=s.n(o),m=s(35695),u=s(40592),h=s(12115),x=s(95799);function p(){let[e,t]=(0,h.useState)(!1),[s,o]=(0,h.useState)({national_id:""}),[p,f]=(0,h.useState)(""),g=(0,m.useRouter)(),b=async e=>{e.preventDefault(),t(!0),f("");let a=await (0,r.a)(s.national_id);try{let e=await n.A.post("/auth/authRegister",{national_id:a});200===e.status&&(x.oR.success(e.data.message),g.back())}catch(e){var l,i;f(null===(l=e.response)||void 0===l?void 0:l.data.message),x.oR.error(null===(i=e.response)||void 0===i?void 0:i.data.message)}finally{t(!1)}};return(0,a.jsxs)("div",{className:"mb-4 mt-2",children:[p&&(0,a.jsx)("div",{className:"bg-red-700 rounded-md mb-2 mt-4 animate-popUp shadow",children:(0,a.jsx)("div",{className:"bg-red-200 ml-1.5 rounded-r-md pl-2",children:(0,a.jsxs)("p",{className:"text-red-700 font-semibold text-sm py-2 flex items-start gap-1 drop-shadow-sm",children:[(0,a.jsx)(l.A,{size:20}),p]})})}),(0,a.jsxs)("form",{className:"flex flex-col",onSubmit:b,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 my-2",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(i.A,{size:20,strokeWidth:1}),(0,a.jsx)("p",{children:"รหัสบัตรประชาชน"})]}),(0,a.jsx)("input",{name:"national_id",value:null==s?void 0:s.national_id,className:"w-full rounded-md transition py-2 text-md md:text-sm",onChange:e=>{f(null),o(t=>o({...t,[e.target.name]:e.target.value}))},placeholder:"รหัสบัตรประชาชน",minLength:"13",maxLength:"13",type:"text",autoComplete:"",required:!0})]}),(0,a.jsx)("div",{className:"mt-8 mb-2",children:(0,a.jsx)(u.Button,{className:"border w-full rounded-full py-2 bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-700 text-white transition",type:"submit",disabled:e,label:(0,a.jsx)("div",{className:"flex items-center justify-center gap-1 font-semibold animate-fadeIn",children:e?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"border-gray-300 h-6 w-6 animate-spin rounded-full border-3 border-t-blue-900"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{strokeWidth:3,size:16}),(0,a.jsx)("p",{children:"ยืนยัน"})]})})})}),(0,a.jsx)(c(),{className:"text-center text-xs mt-5 hover:underline underline-offset-2 hover:text-blue-800 transition",href:"/admin/auth/login",children:"ย้อนกลับ"})]})]})}},42414:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(23464);a.A.defaults.baseURL="https://akathos.moph.go.th/akatApi/";let n=a.A},50477:()=>{},57842:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]])},65557:(e,t,s)=>{Promise.resolve().then(s.bind(s,38148))}},e=>{var t=t=>e(e.s=t);e.O(0,[3464,4396,5799,592,6874,4196,8441,1684,7358],()=>t(65557)),_N_E=e.O()}]);